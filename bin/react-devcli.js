#!/usr/bin/env node
"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var DotEnv=require("dotenv"),path=_interopDefault(require("path")),find=_interopDefault(require("find"));require("chalk");var fs=_interopDefault(require("fs")),yargs=_interopDefault(require("yargs")),classCallCheck=function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")},createClass=function(){function t(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),inherits=function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)},possibleConstructorReturn=function(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o},ACommand=function e(o,n,t){classCallCheck(this,e),this.name=o,this.description=n,this.options=t},Action=function(e){function o(){classCallCheck(this,o);return possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,"action","Action description",{component:{alias:"c",demand:!1,describe:"Create component alongside action file"}}))}return inherits(o,ACommand),createClass(o,[{key:"run",value:function(e){console.log(e)}},{key:"help",value:function(e){console.log(e)}},{key:"remove",value:function(e){console.log(e)}},{key:"test",value:function(e){console.log(e)}},{key:"make",value:function(e){console.log(e)}}]),o}(),Action$1=new Action,Command=function(e){function o(){classCallCheck(this,o);return possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,"command","Command description",{}))}return inherits(o,ACommand),createClass(o,[{key:"run",value:function(e){console.log(e)}},{key:"help",value:function(e){console.log(e)}},{key:"remove",value:function(e){console.log(e)}},{key:"make",value:function(e){console.log(e)}}]),o}(),Command$1=new Command;DotEnv.config();var templates="production"===process.env.NODE_ENV?path.resolve(__dirname,"..","src","templates"):path.resolve(__dirname,"templates"),defaultConfiguration=function(){return{components:{path:process.cwd()+"/components",propTypes:!0,scssFile:!0,index:!1,exportFromIndex:!1},reducers:{path:process.cwd()+"/reducers",componentBased:!1},actions:{path:process.cwd()+"/actions",componentBased:!1,index:!1,separateActionTypes:!1},selectors:{path:process.cwd()+"/selectors",componentBased:!1},tests:{path:process.cwd()+"/__tests__",componentBased:!1},commands:{path:process.cwd()+"/react-devcli/commands"},templates:{path:process.cwd()+"/react-devcli/templates"},engines:{language:"js",testing:"jest"}}},cli=function(){return new Promise(function(n,t){find.file(/react\.config\.js$/,process.cwd(),function(e){if(e.length){var o=e[e.length-1];n(require(o)())}else n(defaultConfiguration());t("Could not load configuration file")})})},Component=function(e){function o(){classCallCheck(this,o);return possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,"component","Component description",{}))}return inherits(o,ACommand),createClass(o,[{key:"run",value:function(e){console.log(e);var n=void 0;console.log(cli()),fs.readFile(path.resolve(templates,"Components","Stateless.jsx"),function(e,o){n=o.toString().split("$NAME").join("SomeName"),console.log(n)})}},{key:"help",value:function(e){console.log(e)}},{key:"remove",value:function(e){console.log(e)}},{key:"test",value:function(e){console.log(e)}},{key:"make",value:function(e){console.log(e)}},{key:"serve",value:function(e){console.log(e)}}]),o}(),Component$1=new Component,Help=function(e){function o(){classCallCheck(this,o);return possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,"help","Help description",{}))}return inherits(o,ACommand),createClass(o,[{key:"run",value:function(e){console.log(e)}},{key:"help",value:function(e){console.log(e)}}]),o}(),Help$1=new Help,Reducer=function(e){function o(){classCallCheck(this,o);return possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,"reducer","Reducer description",{}))}return inherits(o,ACommand),createClass(o,[{key:"run",value:function(e){console.log(e)}},{key:"help",value:function(e){console.log(e)}},{key:"remove",value:function(e){console.log(e)}},{key:"test",value:function(e){console.log(e)}},{key:"make",value:function(e){console.log(e)}}]),o}(),Reducer$1=new Reducer,Selector=function(e){function o(){classCallCheck(this,o);return possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,"reducer","Reducer description",{}))}return inherits(o,ACommand),createClass(o,[{key:"run",value:function(e){console.log(e)}},{key:"help",value:function(e){console.log(e)}},{key:"remove",value:function(e){console.log(e)}},{key:"test",value:function(e){console.log(e)}},{key:"make",value:function(e){console.log(e)}}]),o}(),Selector$1=new Selector,Serve=function(e){function o(){classCallCheck(this,o);return possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,"server","Serve description",{}))}return inherits(o,ACommand),createClass(o,[{key:"run",value:function(e){console.log(e)}},{key:"help",value:function(e){console.log(e)}}]),o}(),Serve$1=new Serve,Test=function(e){function o(){classCallCheck(this,o);return possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,"test","Test description",{}))}return inherits(o,ACommand),createClass(o,[{key:"run",value:function(e){console.log(e)}},{key:"help",value:function(e){console.log(e)}},{key:"remove",value:function(e){console.log(e)}},{key:"test",value:function(e){console.log(e)}},{key:"make",value:function(e){console.log(e)}}]),o}(),Test$1=new Test,Argv=yargs.command(Component$1.name,Component$1.description,Component$1.options).command(Reducer$1.name,Reducer$1.description,Reducer$1.options).command(Selector$1.name,Selector$1.description,Selector$1.options).command(Action$1.name,Action$1.description,Action$1.options).command(Test$1.name,Test$1.description,Test$1.options).command(Command$1.name,Command$1.description,Command$1.options).command(Serve$1.name,Serve$1.description,Serve$1.options).command(Help$1.name,Help$1.description,Help$1.options).help().argv,Component$2=Component$1,Reducer$2=Reducer$1,Selector$2=Selector$1,Action$2=Action$1,Test$2=Test$1,Command$2=Command$1,Serve$2=Serve$1,Help$2=Help$1;switch(Argv._[0]){case Component$2.name:console.log("Component"),Component$2.run(Argv);break;case Reducer$2.name:console.log("Reducer"),Reducer$2.run(Argv);break;case Selector$2.name:console.log("Selector"),Selector$2.run(Argv);break;case Action$2.name:console.log("Action"),Action$2.run(Argv);break;case Test$2.name:console.log("Test"),Test$2.run(Argv);break;case Command$2.name:console.log("Command"),Command$2.run(Argv);break;case Serve$2.name:console.log("Server"),Serve$2.run(Argv);break;default:console.log("None"),Help$2.run(Argv)}
